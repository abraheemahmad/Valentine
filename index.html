<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Hey Wifey</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

<style>
html, body {
  width: 100%;
  height: 100%;
  margin: 0;
  overflow: hidden;
  touch-action: none;
  font-family: 'Poppins', sans-serif;
  background: linear-gradient(135deg, #ff758c, #ff7eb3);
  color: white;
}

.screen {
  position: fixed;
  inset: 0;
  display: none;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  gap: 25px;
  padding: 20px;
}

.screen.active { display: flex; }

h1 { font-size: 4rem; }
h2 { font-size: 3rem; }

button {
  padding: 14px 36px;
  border-radius: 25px;
  border: none;
  font-size: 1.2rem;
  cursor: pointer;
  transition: transform 0.15s ease;
}

button:hover { transform: scale(1.05); }

.primary { background: white; color: #ff4d6d; font-weight: 600; }

.buttons {
  position: relative;
  width: 400px;
  height: 160px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.yes {
  background: white;
  color: #ff4d6d;
  font-weight: 600;
  z-index: 2;
}

.no {
  background: transparent;
  border: 2px solid white;
  color: white;
  position: absolute;
  right: 0;
  top: 0;
  z-index: 1;
  transition: left 0.3s ease, top 0.3s ease; /* smooth movement */
}

#gif {
  width: 90%;
  max-width: 700px;
  border-radius: 16px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.25);
  z-index: 2;
  position: relative;
}

.confetti, .heart {
  position: fixed;
  pointer-events: none;
  z-index: 10;
  font-size: 24px;
  user-select: none;
}
</style>
</head>

<body>

<!-- Screen 1 -->
<div class="screen active" id="screen1">
  <h1>Hey Wifey</h1>
  <button class="primary" onclick="goTo(2)">Continue</button>
</div>

<!-- Screen 2 -->
<div class="screen" id="screen2">
  <h2>Will you be my Valentine?</h2>
  <div class="buttons">
    <button class="yes" onclick="goTo(3); startCelebration()">Yes</button>
    <button class="no" id="noBtn">No</button>
  </div>
</div>

<!-- Screen 3 -->
<div class="screen" id="screen3">
  <h2>You made a great choice</h2>
  <img id="gif" src="https://media.giphy.com/media/l0MYt5jPR6QX5pnqM/giphy.gif" alt="Celebration gif">
</div>

<script>
// Screen switching
function goTo(num) {
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.getElementById('screen' + num).classList.add('active');
}

// Smooth NO button hover (~1 inch)
const noBtn = document.getElementById("noBtn");

document.addEventListener("mousemove", e => {
  const screen2 = document.getElementById("screen2");
  if (!screen2.classList.contains("active")) return;

  const rect = noBtn.getBoundingClientRect();
  const dx = e.clientX - (rect.left + rect.width / 2);
  const dy = e.clientY - (rect.top + rect.height / 2);
  const distance = Math.sqrt(dx*dx + dy*dy);

  if (distance < 120) {
    const moveX = -dx / distance * 16;
    const moveY = -dy / distance * 16;

    let newLeft = rect.left + moveX;
    let newTop = rect.top + moveY;

    newLeft = Math.min(window.innerWidth - rect.width, Math.max(0, newLeft));
    newTop = Math.min(window.innerHeight - rect.height, Math.max(0, newTop));

    noBtn.style.left = newLeft + "px";
    noBtn.style.top = newTop + "px";
  }
});

// Celebration
function startCelebration() {
  createConfetti(200);
  createHearts(70);
}

// Full-screen confetti
function createConfetti(count) {
  for (let i=0;i<count;i++){
    const c = document.createElement('div');
    c.className = 'confetti';
    c.innerText = 'ðŸŽ‰';
    c.style.left = Math.random() * window.innerWidth + 'px';
    c.style.top = '-50px';
    c.style.fontSize = (20 + Math.random()*30) + 'px';
    c.style.opacity = Math.random();
    document.body.appendChild(c);

    const fall = () => {
      let top = parseFloat(c.style.top);
      if(top > window.innerHeight + 50){ c.remove(); return; }
      c.style.top = (top + 5 + Math.random()*3) + 'px';
      c.style.left = (parseFloat(c.style.left) + Math.sin(top/20)*2) + 'px';
      requestAnimationFrame(fall);
    };
    fall();
  }
}

// Floating hearts
function createHearts(count){
  for (let i=0;i<count;i++){
    const h = document.createElement('div');
    h.className = 'heart';
    h.innerText = 'â¤ï¸';
    h.style.left = Math.random()*window.innerWidth+'px';
    h.style.top = window.innerHeight+'px';
    h.style.fontSize = (18+Math.random()*24)+'px';
    h.style.opacity = Math.random();
    document.body.appendChild(h);

    const floatUp = () => {
      let top = parseFloat(h.style.top);
      if(top < -50){ h.remove(); return; }
      h.style.top = (top - (1+Math.random()*2)) + 'px';
      h.style.left = (parseFloat(h.style.left) + Math.sin(top/50)) + 'px';
      requestAnimationFrame(floatUp);
    };
    floatUp();
  }
}
</script>

</body>
</html>
